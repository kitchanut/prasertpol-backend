(window.webpackJsonp=window.webpackJsonp||[]).push([[134,14,91,164],{259:function(e,t,r){"use strict";var n=r(202);t.a=n.a},429:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return m}));var n=r(9),o=(r(48),r(98)),c=r.n(o),l="https://www.psnkp.co.th/server",d=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.$nuxt){e.next=4;break}return e.next=3,$nuxt.$auth.loggedIn;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.$nuxt){e.next=4;break}return e.next=3,window.$nuxt.$auth.getToken("local");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function m(e,t,r){return _.apply(this,arguments)}function _(){return(_=Object(n.a)(regeneratorRuntime.mark((function e(t,r,data){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d()){e.next=9;break}return e.next=3,f();case 3:return e.t0=e.sent,n={Authorization:e.t0},e.next=7,c()({method:t,url:r,data:data,headers:n}).then((function(e){return e})).catch((function(e){if(401==e.response.status)return $nuxt.$auth.logout()}));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},432:function(e,t,r){"use strict";r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return f})),r.d(t,"o",(function(){return m})),r.d(t,"g",(function(){return _})),r.d(t,"p",(function(){return v})),r.d(t,"e",(function(){return h})),r.d(t,"d",(function(){return x})),r.d(t,"f",(function(){return D})),r.d(t,"k",(function(){return w})),r.d(t,"j",(function(){return k})),r.d(t,"i",(function(){return y})),r.d(t,"a",(function(){return O})),r.d(t,"n",(function(){return j})),r.d(t,"b",(function(){return B})),r.d(t,"h",(function(){return S})),r.d(t,"c",(function(){return L}));var n=r(9),o=(r(48),r(18),r(2)),c=r(200),l=r.n(c);r(262);function d(){o.default.swal({text:"ลำดับรถซ้ำ",icon:"error",confirmButtonText:"ตกลง",showCloseButton:!0})}function f(){o.default.swal({text:"ทะเบียนหรือจังหวัดซ้ำ",icon:"error",confirmButtonText:"ตกลง",showCloseButton:!0})}function m(){o.default.swal({title:"การแชร์ถูกยกเลิก !",text:"เนื่องจากรถยังไม่แสดงหน้าร้านหรือถูกขายออกไปแล้ว",icon:"warning",confirmButtonText:"ตกลง",showCloseButton:!0})}function _(){o.default.swal({text:"ชื่อผู้ใช้งานหรือรหัสผ่านผิด",icon:"warning",confirmButtonText:"ตกลง",showCloseButton:!0})}function v(){o.default.swal({text:"บัญชีนี้ไม่สามารถใช้งานฟังก์ชันนี้ได้",icon:"warning",confirmButtonText:"ตกลง",showCloseButton:!0})}function h(){o.default.swal({text:"ชื่อผู้ใช้งานซ้ำ",icon:"error",confirmButtonText:"ตกลง",showCloseButton:!0})}function x(){o.default.swal({text:"รหัสลับซ้ำกัน",icon:"error",confirmButtonText:"ตกลง",showCloseButton:!0})}function D(){o.default.swal({text:"คุณยังไม่ได้ไปรับอะไหล่",icon:"error",confirmButtonText:"ตกลง",showCloseButton:!0})}function w(){o.default.swal({position:"top-end",icon:"success",title:"สำเร็จ",showConfirmButton:!1,timer:1500})}function k(){o.default.swal({position:"top-end",icon:"error",title:"เกิดข้อผิดพลาด",showConfirmButton:!1,timer:1500})}function y(){return C.apply(this,arguments)}function C(){return(C=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ยืนยันการเรียกคืน ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ไม่",confirmButtonText:"ใช่"}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return $.apply(this,arguments)}function $(){return($=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ยืนยันการลบ ?",text:"ลบไปแล้วไม่สามารถกู้ข้อมูลกลับมาได้",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ไม่",confirmButtonText:"ลบ"}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return R.apply(this,arguments)}function R(){return(R=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ข้อมูลยังไม่ครบ",text:"กรุณาใส่ข้อมูลที่เป็นสีแดง",icon:"error",showCancelButton:!0,showConfirmButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ยกเลิก",confirmButtonText:"ตกลง",showCloseButton:!0}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return T.apply(this,arguments)}function T(){return(T=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ยืนยันการอัพเดตสถานะ",text:"ทำการตรวจสอบข้อมูลครบเรียบร้อยแล้ว ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ไม่",confirmButtonText:"ใช่"}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return P.apply(this,arguments)}function P(){return(P=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ไม่สามารถปิดงานได้",text:"ยังมีรายการที่ทำไม่ครบ",icon:"error",showCancelButton:!1,showConfirmButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ยกเลิก",confirmButtonText:"ตกลง",showCloseButton:!0}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return A.apply(this,arguments)}function A(){return(A=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e(o.default.swal({title:"ยืนยันรับรายการเข้าคลัง ?",text:"ทำการตรวจสอบข้อมูลครบเรียบร้อยแล้ว",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ไม่",confirmButtonText:"ใช่"}).then((function(e){return e.isConfirmed})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.default.use(l.a,{confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"})},442:function(e,t,r){var n=r(51),o=r(264),c=r(62);e.exports=function(e,t,r,l){var d=String(c(e)),f=d.length,m=void 0===r?" ":String(r),_=n(t);if(_<=f||""==m)return d;var v=_-f,h=o.call(m,Math.ceil(v/m.length));return h.length>v&&(h=h.slice(0,v)),l?h+d:d+h}},451:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return select}));var n=r(429),path="/api/branches";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("post",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/SelectOnBranches";return Object(n.b)("get",e,{})}},455:function(e,t,r){"use strict";r.d(t,"i",(function(){return o})),r.d(t,"g",(function(){return c})),r.d(t,"p",(function(){return l})),r.d(t,"q",(function(){return d})),r.d(t,"m",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return _})),r.d(t,"b",(function(){return v})),r.d(t,"o",(function(){return h})),r.d(t,"s",(function(){return x})),r.d(t,"a",(function(){return D})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return k})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return C})),r.d(t,"n",(function(){return O})),r.d(t,"h",(function(){return $})),r.d(t,"j",(function(){return j})),r.d(t,"r",(function(){return R}));var n=r(429),path="/api/car";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function m(){var e=n.a+"/api/SelectOnCarAll";return Object(n.b)("get",e,{})}function _(){var e=n.a+"/api/SelectAllCars";return Object(n.b)("get",e,{})}function v(){var e=n.a+"/api/SelectCarNo";return Object(n.b)("get",e,{})}function h(e){var t=n.a+"/api/StockOnCar";return Object(n.b)("post",t,e)}function x(e){var t=n.a+"/api/uploadImgCars";return Object(n.b)("post",t,e)}function D(e){var t=n.a+"/api/ImageCar/"+e;return Object(n.b)("post",t,{})}function w(e){var t=n.a+"/api/change_fist_img";return Object(n.b)("post",t,e)}function k(e){var t=n.a+"/api/deleteAllImgCar";return Object(n.b)("post",t,e)}function y(e){var t=n.a+"/api/deleteFolder";return Object(n.b)("post",t,e)}function C(e){var t=n.a+"/api/delete_img_car";return Object(n.b)("post",t,e)}function O(e){var t=n.a+"/api/showCar";return Object(n.b)("post",t,e)}function $(e,t){var r=n.a+"/api/getAllinfo/"+e+"/"+t;return Object(n.b)("get",r,{})}function j(e){var t=n.a+"/api/reRollCar/"+e;return Object(n.b)("get",t,{})}function R(){var e=n.a+"/api/update_amountPrice";return Object(n.b)("get",e,{})}},459:function(e,t,r){var n=r(17);n(n.S,"Math",{sign:r(265)})},465:function(e,t,r){"use strict";var n=r(17),o=r(442),c=r(263),l=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);n(n.P+n.F*l,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},511:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return select}));var n=r(429),path="/api/unit";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/SelectOnUnit";return Object(n.b)("get",e,{})}},520:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return select}));var n=r(429),path="/api/car_part";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("post",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/SelectOnCarParts";return Object(n.b)("get",e,{})}},530:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return select}));var n=r(429),path="/api/car_part_types";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/SelectOnCarPartType";return Object(n.b)("get",e,{})}},582:function(e,t,r){"use strict";r.r(t);var n=r(202),o=r(190),c=r(149),l=r(424),d=r(428),f=r(426),m=r(457),_=r(191),v=r(472),h=r(471),x=r(423),D=r(422),w=r(435),k=r(46),y=r(9),C=(r(48),r(511)),O={props:["dialog","action","id","formTitle"],data:function(){return{btnloading:!0,formDataLoading:!1,formData:{},rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}],dialogDeleteComponent:!1}},mounted:function(){},methods:{onAction:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$refs.form.validate()){r.next=19;break}if(t.btnloading=!0,t.formDataLoading=!0,"add"!=t.action){r.next=11;break}return r.next=6,C.e(t.formData);case 6:n=r.sent,t.$refs.form.reset(),200==n.status?t.$emit("success"):t.$emit("error"),r.next=17;break;case 11:if("edit"!=t.action){r.next=17;break}return r.next=14,C.f(e,t.formData);case 14:o=r.sent,t.$refs.form.reset(),200==o.status?t.$emit("success"):t.$emit("error");case 17:t.btnloading=!1,t.formDataLoading=!1;case 19:case"end":return r.stop()}}),r)})))()}},watch:{dialog:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.$props.dialog){t.next=13;break}if("add"!=e.action){t.next=6;break}e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formData={unit_active:"1"};case 1:case"end":return e.stop()}}),e)}))))})),t.next=13;break;case 6:if("edit"!=e.action){t.next=13;break}return e.formDataLoading=!0,t.next=10,C.d(e.id);case 10:r=t.sent,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.data;case 2:t.formData=e.sent;case 3:case"end":return e.stop()}}),e)}))))})),e.formDataLoading=!1;case 13:e.btnloading=!1;case 14:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},$=r(38),component=Object($.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(d.a,[r(f.a,{attrs:{"max-width":"50%"},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r(o.a,[r(m.a,{ref:"form",attrs:{autocomplete:"true"},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r(k.a,{attrs:{color:"primary",dark:"",flat:""}},[e._v("\n          "+e._s(e.formTitle)+"\n        ")]),e._v(" "),e.formDataLoading?r(_.a,{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r(c.b,[r(d.a,[r(x.a,[r(l.a,{attrs:{cols:"12"}},[r(w.a,{attrs:{autocomplete:"true",label:"ชื่อหน่วย","append-icon":"",id:"formData.unit_name",name:"formData.unit_name",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.unit_name,callback:function(t){e.$set(e.formData,"unit_name",t)},expression:"formData.unit_name"}})],1)],1),e._v(" "),r(h.a,{attrs:{id:"formData.unit_active",name:"formData.unit_active",rules:[function(e){return!!e}],row:""},model:{value:e.formData.unit_active,callback:function(t){e.$set(e.formData,"unit_active",t)},expression:"formData.unit_active"}},[[r("div",{staticClass:"mr-1"},[e._v("แสดงตอนเลือก:")])],e._v(" "),r(v.a,{attrs:{label:"เปิดใช้งาน",value:"1"}}),e._v(" "),r(v.a,{attrs:{label:"ปิดการใช้งาน",color:"red",value:"2"}})],2)],1)],1),e._v(" "),r(c.a,[r(D.a),e._v(" "),r(n.a,{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[e._v("ยกเลิก")]),e._v(" "),r(n.a,{attrs:{type:"submit",color:"success darken-1",text:"",loading:e.btnloading}},[e._v("บันทึก")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},602:function(e,t,r){"use strict";r.r(t);var n=r(202),o=r(190),c=r(149),l=r(424),d=r(428),f=r(426),m=r(457),_=r(191),v=r(472),h=r(471),x=r(423),D=r(422),w=r(435),k=r(46),y=r(9),C=(r(48),r(530)),O={props:["dialog","action","id","formTitle"],data:function(){return{btnloading:!0,formDataLoading:!1,formData:{},dialogDeleteComponent:!1,rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}]}},mounted:function(){},methods:{onAction:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$refs.form.validate()){r.next=20;break}if(t.btnloading=!0,"add"!=t.action){r.next=12;break}return r.next=5,C.e(t.formData);case 5:n=r.sent,t.$refs.form.reset(),200==n.status?t.$emit("success"):t.$emit("error"),t.btnloading=!1,t.formDataLoading=!1,r.next=20;break;case 12:if("edit"!=t.action){r.next=20;break}return r.next=15,C.f(e,t.formData);case 15:o=r.sent,t.$refs.form.reset(),200==o.status?t.$emit("success"):t.$emit("error"),t.btnloading=!1,t.formDataLoading=!1;case 20:case"end":return r.stop()}}),r)})))()}},watch:{dialog:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.$props.dialog){t.next=15;break}if("add"!=e.action){t.next=7;break}return t.next=5,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{car_part_type_active:"1"};case 2:t.formData=e.sent;case 3:case"end":return e.stop()}}),e)}))))}));case 5:t.next=15;break;case 7:if("edit"!=e.action){t.next=15;break}return e.formDataLoading=!0,t.next=11,C.d(e.id);case 11:return r=t.sent,t.next=14,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.data;case 2:t.formData=e.sent;case 3:case"end":return e.stop()}}),e)}))))}));case 14:e.formDataLoading=!1;case 15:e.btnloading=!1;case 16:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},$=r(38),component=Object($.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(d.a,[r(f.a,{attrs:{"max-width":"50%"},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r(o.a,[r(m.a,{ref:"form",attrs:{autocomplete:"true"},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r(k.a,{attrs:{color:"primary",dark:"",flat:""}},[e._v("\n          "+e._s(e.formTitle)+"\n        ")]),e._v(" "),e.formDataLoading?r(_.a,{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r(c.b,[r(d.a,[r(x.a,[r(l.a,{attrs:{cols:"12"}},[r(w.a,{attrs:{autocomplete:"true",label:"ชื่อประเภท","append-icon":"",id:"formData.car_part_type_name",name:"formData.car_part_type_name",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_type_name,callback:function(t){e.$set(e.formData,"car_part_type_name",t)},expression:"formData.car_part_type_name"}})],1)],1),e._v(" "),r(h.a,{attrs:{id:"formData.car_part_type_active",name:"formData.car_part_type_active",rules:e.rule,row:""},model:{value:e.formData.car_part_type_active,callback:function(t){e.$set(e.formData,"car_part_type_active",t)},expression:"formData.car_part_type_active"}},[[r("div",{staticClass:"mr-1"},[e._v("แสดงตอนเลือก:")])],e._v(" "),r(v.a,{attrs:{label:"เปิดใช้งาน",value:"1"}}),e._v(" "),r(v.a,{attrs:{label:"ปิดการใช้งาน",color:"red",value:"2"}})],2)],1)],1),e._v(" "),r(c.a,[r(D.a),e._v(" "),r(n.a,{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[e._v("ยกเลิก")]),e._v(" "),r(n.a,{attrs:{type:"submit",color:"success darken-1",text:"",loading:e.btnloading}},[e._v("บันทึก")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},603:function(e,t,r){"use strict";r.r(t);var n=r(114),o=r(19),c=r(9),l=(r(48),r(432)),d={components:{dialogNew:r(582).default},data:function(){return{formTitle:"เพิ่มข้อมูล",dialog:!1,id:"",action:"add"}},mounted:function(){},methods:{AddItem:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formTitle="เพิ่มข้อมูล",e.dialog=!0,e.id="",e.action="add";case 4:case"end":return t.stop()}}),t)})))()},addSuccess:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("success","AddUnit"),l.k()}));case 3:case"end":return t.stop()}}),t)})))()},addError:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("error","AddUnit"),l.j()}));case 3:case"end":return t.stop()}}),t)})))()}}},f=r(38),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r(n.a,{on:{click:function(t){return e.AddItem()}}},[r(o.a,[r(o.c,{staticStyle:{color:"#1976d2"}},[e._v(" + เพิ่มข้อมูลใหม่ ")])],1)],1),e._v(" "),r("dialogNew",{attrs:{dialog:e.dialog,id:e.id,action:e.action,formTitle:e.formTitle},on:{cancleItem:function(t){e.dialog=!1},success:function(t){return e.addSuccess()},error:function(t){return e.addError()}}})],1)}),[],!1,null,null,null);t.default=component.exports},615:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return select}));var n=r(429),path="/api/partner_company";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/selectOnPartnerCompany";return Object(n.b)("get",e,{})}},618:function(e,t,r){"use strict";r.r(t);var n=r(454),o=r(202),c=r(190),l=r(149),d=r(424),f=r(428),m=r(426),_=r(491),v=r(457),h=r(147),x=r(191),D=r(472),w=r(471),k=r(423),y=r(422),C=r(435),O=r(46),$=r(9),j=(r(48),r(520)),R=r(530),B=r(511),T=r(619),S=r(603),P={props:["dialog","action","id","formTitle"],components:{selectAddCarPartType:T.default,selectAddUnit:S.default},data:function(){return{serverUrl:"https://www.psnkp.co.th/server/assets/images/car_parts/",btnloading:!0,formDataLoading:!1,formData:{},rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}],car_part_types:[],dataUnit:[],dialogDeleteComponent:!1,currentFile:null,imagePreviewURL:null}},mounted:function(){},methods:{selectFile:function(e){this.currentFile=e;var t=e;t?(this.imagePreviewURL=URL.createObjectURL(t),URL.revokeObjectURL(t)):this.imagePreviewURL=null},getCarTypes:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.c();case 2:r=t.sent,e.car_part_types=r.data,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},getUnit:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.c();case 2:r=t.sent,e.dataUnit=r.data,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},onAction:function(e){var t=this;return Object($.a)(regeneratorRuntime.mark((function r(){var data,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$refs.form.validate()){r.next=23;break}if(t.btnloading=!0,t.formDataLoading=!0,(data=new FormData).append("formData",JSON.stringify(t.formData)),data.append("Image",t.currentFile),"add"!=t.action){r.next=14;break}return r.next=9,j.e(data);case 9:n=r.sent,t.$refs.form.reset(),200==n.status?t.$emit("success"):t.$emit("error"),r.next=21;break;case 14:if("edit"!=t.action){r.next=21;break}return data.append("_method","PATCH"),r.next=18,j.f(e,data);case 18:o=r.sent,t.$refs.form.reset(),200==o.status?t.$emit("success"):t.$emit("error");case 21:t.btnloading=!1,t.formDataLoading=!1;case 23:case"end":return r.stop()}}),r)})))()},addSuccess:function(e){var t=this;return Object($.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarPartType"!=e){r.next=5;break}return r.next=3,t.getCarTypes();case 3:r.next=8;break;case 5:if("AddUnit"!=e){r.next=8;break}return r.next=8,t.getUnit();case 8:case"end":return r.stop()}}),r)})))()},addError:function(e){var t=this;return Object($.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarPartType"!=e){r.next=5;break}return r.next=3,t.getCarTypes();case 3:r.next=8;break;case 5:if("AddUnit"!=e){r.next=8;break}return r.next=8,t.getUnit();case 8:case"end":return r.stop()}}),r)})))()}},watch:{dialog:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.$props.dialog){t.next=16;break}if(e.getCarTypes(),e.getUnit(),e.imagePreviewURL=null,"add"!=e.action){t.next=9;break}e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object($.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formData={car_part_active:"1"};case 1:case"end":return e.stop()}}),e)}))))})),t.next=16;break;case 9:if("edit"!=e.action){t.next=16;break}return e.formDataLoading=!0,t.next=13,j.d(e.id);case 13:r=t.sent,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object($.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.data;case 2:t.formData=n.sent,null!=r.data.car_part_image&&(e.imagePreviewURL=e.serverUrl+r.data.id+"/"+r.data.car_part_image);case 4:case"end":return n.stop()}}),n)}))))})),e.formDataLoading=!1;case 16:e.btnloading=!1;case 17:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},L=r(38),component=Object(L.a)(P,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(f.a,[r(m.a,{attrs:{"max-width":"50%"},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r(c.a,[r(v.a,{ref:"form",attrs:{autocomplete:"true"},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r(O.a,{attrs:{color:"primary",dark:"",flat:""}},[e._v("\n          "+e._s(e.formTitle)+"\n        ")]),e._v(" "),e.formDataLoading?r(x.a,{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r(l.b,[r(f.a,[r(k.a,[r(d.a,{attrs:{cols:"12"}},[r(n.a,{attrs:{id:"formData.car_part_type_id",name:"formData.car_part_type_id",items:e.car_part_types,"item-text":"car_part_type_name","item-value":"id",label:"ประเภทอะไหล่",outlined:"",dense:"","hide-details":"","no-data-text":"ไม่มีข้อมูล",rules:e.rule},scopedSlots:e._u([{key:"append-item",fn:function(){return[r("selectAddCarPartType",{on:{success:e.addSuccess,error:e.addError}})]},proxy:!0}]),model:{value:e.formData.car_part_type_id,callback:function(t){e.$set(e.formData,"car_part_type_id",t)},expression:"formData.car_part_type_id"}})],1)],1),e._v(" "),r(k.a,[r(d.a,{attrs:{cols:"12"}},[r(C.a,{attrs:{autocomplete:"true",label:"ชื่อ","append-icon":"",id:"formData.car_part_name",name:"formData.car_part_name",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_name,callback:function(t){e.$set(e.formData,"car_part_name",t)},expression:"formData.car_part_name"}})],1)],1),e._v(" "),r(k.a,[r(d.a,{attrs:{cols:"6"}},[r(n.a,{attrs:{id:"formData.unit_id",name:"formData.unit_id",items:e.dataUnit,"item-text":"unit_name","item-value":"id","no-data-text":"ไม่มีข้อมูล",label:"หน่วย",outlined:"",dense:"","hide-details":"",rules:e.rule},scopedSlots:e._u([{key:"append-item",fn:function(){return[r("selectAddUnit",{on:{success:e.addSuccess,error:e.addError}})]},proxy:!0}]),model:{value:e.formData.unit_id,callback:function(t){e.$set(e.formData,"unit_id",t)},expression:"formData.unit_id"}})],1),e._v(" "),r(d.a,{attrs:{cols:"6"}},[r(C.a,{attrs:{autocomplete:"true",label:"รหัส","append-icon":"",id:"formData.car_part_code",name:"formData.car_part_code",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_code,callback:function(t){e.$set(e.formData,"car_part_code",t)},expression:"formData.car_part_code"}})],1)],1),e._v(" "),r(k.a,[r(d.a,{attrs:{cols:"4"}},[r(C.a,{attrs:{autocomplete:"true",label:"ราคาซื้อ","append-icon":"",id:"formData.car_part_price",name:"formData.car_part_price",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_price,callback:function(t){e.$set(e.formData,"car_part_price",t)},expression:"formData.car_part_price"}})],1),e._v(" "),r(d.a,{attrs:{cols:"4"}},[r(C.a,{attrs:{autocomplete:"true",label:"ราคาขาย","append-icon":"",id:"formData.car_part_buy",name:"formData.car_part_buy",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_buy,callback:function(t){e.$set(e.formData,"car_part_buy",t)},expression:"formData.car_part_buy"}})],1),e._v(" "),r(d.a,{attrs:{cols:"4"}},[r(C.a,{attrs:{autocomplete:"true",label:"ส่วนลด","append-icon":"",id:"formData.car_part_discount",name:"formData.car_part_discount",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_part_discount,callback:function(t){e.$set(e.formData,"car_part_discount",t)},expression:"formData.car_part_discount"}})],1)],1),e._v(" "),r(w.a,{attrs:{id:"formData.car_part_active",name:"formData.car_part_active",rules:e.rule,row:""},model:{value:e.formData.car_part_active,callback:function(t){e.$set(e.formData,"car_part_active",t)},expression:"formData.car_part_active"}},[[r("div",{staticClass:"mr-1"},[e._v("แสดงตอนเลือก:")])],e._v(" "),r(D.a,{attrs:{label:"เปิดใช้งาน",value:"1"}}),e._v(" "),r(D.a,{attrs:{label:"ปิดการใช้งาน",color:"red",value:"2"}})],2),e._v(" "),r("div",{staticClass:"d-flex flex-column justify-center"},[r(_.a,{attrs:{accept:"image/*","show-size":"",label:null==e.currentFile||null==e.imagePreviewURL?"เลือกรูปภาพ":"เลือกรูปใหม่"},on:{change:e.selectFile}}),e._v(" "),null!=e.currentFile||null!=e.imagePreviewURL?r(h.a,{attrs:{contain:"",height:"250px",src:e.imagePreviewURL}}):e._e()],1)],1)],1),e._v(" "),r(l.a,[r(y.a),e._v(" "),r(o.a,{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[e._v("ยกเลิก")]),e._v(" "),r(o.a,{attrs:{type:"submit",color:"success darken-1",text:"",loading:e.btnloading}},[e._v("บันทึก")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},619:function(e,t,r){"use strict";r.r(t);var n=r(114),o=r(19),c=r(9),l=(r(48),r(432)),d={components:{dialogNew:r(602).default},data:function(){return{formTitle:"เพิ่มข้อมูล",dialog:!1,id:"",action:"add"}},mounted:function(){},methods:{AddItem:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formTitle="เพิ่มข้อมูล",e.dialog=!0,e.id="",e.action="add";case 4:case"end":return t.stop()}}),t)})))()},addSuccess:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("success","AddCarPartType"),l.k()}));case 3:case"end":return t.stop()}}),t)})))()},addError:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("error","AddCarPartType"),l.j()}));case 3:case"end":return t.stop()}}),t)})))()}}},f=r(38),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r(n.a,{on:{click:function(t){return e.AddItem()}}},[r(o.a,[r(o.c,{staticStyle:{color:"#1976d2"}},[e._v(" + เพิ่มข้อมูลใหม่ ")])],1)],1),e._v(" "),r("dialogNew",{attrs:{dialog:e.dialog,id:e.id,action:e.action,formTitle:e.formTitle},on:{cancleItem:function(t){e.dialog=!1},success:function(t){return e.addSuccess()},error:function(t){return e.addError()}}})],1)}),[],!1,null,null,null);t.default=component.exports},624:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return m}));var n=r(429),path="/api/purchase";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function f(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function m(e){var t=n.a+"/api/purchase_where/"+e;return Object(n.b)("post",t,{})}},625:function(e,t,r){var content=r(676);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("26252f24",content,!0,{sourceMap:!1})},659:function(e,t,r){"use strict";r.r(t);var n=r(114),o=r(19),c=r(9),l=(r(48),r(432)),d={components:{dialogNew:r(618).default},data:function(){return{formTitle:"เพิ่มข้อมูล",dialog:!1,id:"",action:"add"}},methods:{AddItem:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formTitle="เพิ่มข้อมูล",e.dialog=!0,e.id="",e.action="add";case 4:case"end":return t.stop()}}),t)})))()},addSuccess:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("success","AddCarPart"),l.k()}));case 3:case"end":return t.stop()}}),t)})))()},addError:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("error","AddCarPart"),l.j()}));case 3:case"end":return t.stop()}}),t)})))()}}},f=r(38),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r(n.a,{on:{click:function(t){return e.AddItem()}}},[r(o.a,[r(o.c,{staticStyle:{color:"#1976d2"}},[e._v(" + เพิ่มข้อมูลใหม่ ")])],1)],1),e._v(" "),r("dialogNew",{attrs:{dialog:e.dialog,id:e.id,action:e.action,formTitle:e.formTitle},on:{cancleItem:function(t){e.dialog=!1},success:function(t){return e.addSuccess()},error:function(t){return e.addError()}}})],1)}),[],!1,null,null,null);t.default=component.exports},675:function(e,t,r){"use strict";r(625)},676:function(e,t,r){var n=r(12)(!1);n.push([e.i,".v-input--selection-controls{margin-top:0!important;padding-top:0!important}",""]),e.exports=n},685:function(e,t,r){"use strict";r.r(t);var n=r(454),o=r(202),c=r(190),l=r(149),d=r(424),f=r(428),m=r(633),_=r(426),v=r(100),h=r(457),x=r(177),D=r(412),w=r(191),k=r(423),y=r(422),C=r(435),O=r(46),$=r(73),j=r(9),R=(r(16),r(48),r(624)),B=r(520),T=r(451),S=r(615),P=r(432),L=r(511),A=r(455),U={props:["dialog","action","id","formTitle"],components:{selectAddCarPart:r(659).default},data:function(){return{btnloading:!0,formDataLoading:!1,menuDateBuy:!1,formData:{purchase_details:[{}]},ShowBotton:!0,carParts:[],rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}],dialogDeleteComponent:!1,dataCar:[],getDataCar:[],type:[{id:1,name:"คลัง"},{id:2,name:"รถ"}],partner:[],branch:[],dataUnit:[],selectPartner:"",selectBranch:"",isReadonly:!1,disabledInputCar:!1}},mounted:function(){},methods:{filterObject:function(e,t,r){return e.car_no.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1||e.car_regis.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},getCars:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.l();case 2:r=t.sent,e.dataCar=r.data;case 4:case"end":return t.stop()}}),t)})))()},getUnit:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.b();case 2:r=t.sent,e.dataUnit=r.data;case 4:case"end":return t.stop()}}),t)})))()},getCarParts:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.c();case 2:r=t.sent,e.carParts=r.data;case 4:case"end":return t.stop()}}),t)})))()},getBranch:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.c();case 2:r=t.sent,e.branch=r.data;case 4:case"end":return t.stop()}}),t)})))()},getPartner:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.c();case 2:r=t.sent,e.partner=r.data;case 4:case"end":return t.stop()}}),t)})))()},SelectBranchs:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.formData.company_name="",t.formData.branch_tel="",t.formData.company_idvat="",t.formData.company_address="",t.$nextTick((function(){for(var r=0;r<t.branch.length;r++)if(t.branch[r].id==e){t.branch[r].id==e&&(t.formData.company_name=t.branch[r].company_name,t.formData.branch_tel=t.branch[r].branch_tel,t.formData.company_idvat=t.branch[r].company_idvat,t.formData.company_address=t.branch[r].company_address);break}}));case 5:case"end":return r.stop()}}),r)})))()},SelectPartners:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.formData.partner_companie_name="",t.formData.partner_companie_tel="",t.formData.partner_companie_idvat="",t.formData.partner_companie_address="",n=0;case 5:if(!(n<t.partner.length)){r.next=15;break}if(t.partner[n].id!=e){r.next=12;break}return t.formData.partner_companie_name=t.partner[n].partner_companie_name,t.formData.partner_companie_tel=t.partner[n].partner_companie_tel,t.formData.partner_companie_idvat=t.partner[n].partner_companie_idvat,t.formData.partner_companie_address=t.partner[n].partner_companie_address,r.abrupt("break",15);case 12:n++,r.next=5;break;case 15:case"end":return r.stop()}}),r)})))()},onAction:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$refs.form.validate()){r.next=17;break}if(t.btnloading=!0,t.formDataLoading=!0,"add"!=t.action){r.next=11;break}return r.next=6,R.e(t.formData);case 6:n=r.sent,t.$refs.form.reset(),200==n.status?t.$emit("success"):t.$emit("error"),r.next=15;break;case 11:if("edit"!=t.action){r.next=15;break}return o=P.c(),r.next=15,o.then(function(){var r=Object(j.a)(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1!=n){r.next=6;break}return r.next=3,R.f(e,t.formData);case 3:o=r.sent,t.$refs.form.reset(),200==o.status?t.$emit("success"):t.$emit("error");case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 15:t.btnloading=!1,t.formDataLoading=!1;case 17:case"end":return r.stop()}}),r)})))()},fuctionSumValue:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=[],t.formData.purchase_details[e].sumValue=Number(t.formData.purchase_details[e].car_part_price)*Number(t.formData.purchase_details[e].car_part_amount),o=0;o<t.formData.purchase_details.length;o++)n.push(t.formData.purchase_details[o].sumValue);t.formData.sumValueAll=n.reduce((function(e,t){return e+t}),0);case 4:case"end":return r.stop()}}),r)})))()},addSuccess:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarPart"!=e){r.next=5;break}return r.next=3,t.getCarParts();case 3:return r.next=5,t.getUnit();case 5:case"end":return r.stop()}}),r)})))()},addError:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarPart"!=e){r.next=5;break}return r.next=3,t.getCarParts();case 3:return r.next=5,t.getUnit();case 5:case"end":return r.stop()}}),r)})))()},selectCarPart:function(e,t){var r=this;return Object(j.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.formData.purchase_details[t].car_part_price="",r.formData.purchase_details[t].unit_name="",r.formData.purchase_details[t].car_part_amount="",r.formData.purchase_details[t].sumValue="",o=0;case 5:if(!(o<r.carParts.length)){n.next=19;break}if(r.carParts[o].id!=e){n.next=16;break}c=0;case 8:if(!(c<r.dataUnit.length)){n.next=16;break}if(r.dataUnit[c].id!=r.carParts[o].unit_id){n.next=13;break}return r.formData.purchase_details[t].unit_name=r.dataUnit[c].unit_name,r.formData.purchase_details[t].car_part_price=r.carParts[o].car_part_price,n.abrupt("break",16);case 13:c++,n.next=8;break;case 16:o++,n.next=5;break;case 19:case"end":return n.stop()}}),n)})))()},add_row:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:data={type:1,car_id:"",unit_name:"",car_part_id:"",car_part_price:"",car_part_amount:"",sumValue:""},e.formData.purchase_details.push(data);case 2:case"end":return t.stop()}}),t)})))()},rm_row:function(e){var t=this;return Object(j.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.formData.purchase_details.splice(e,1);case 1:case"end":return r.stop()}}),r)})))()}},watch:{dialog:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.dialogDeleteComponent){t.next=25;break}return e.formDataLoading=!0,e.getCarParts(),t.next=6,e.getBranch();case 6:if(e.getPartner(),e.getUnit(),e.getCars(),e.loading=!1,"add"!=e.action){t.next=16;break}e.ShowBotton=!0,e.isReadonly=!1,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(j.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.formData={po_number:"PO-"+(new Date).getTime(),branch_id:e.$auth.$storage.getLocalStorage("userData-branch_id"),user_id:e.$auth.$storage.getLocalStorage("userData-id"),po_active:1,purchase_details:[{type:1,car_id:"",unit_name:"",car_part_id:"",car_part_price:"",car_part_amount:"",sumValue:""}]};case 1:case"end":return r.stop()}}),r)}))))})),t.next=23;break;case 16:if("edit"!=e.action&&"history"!=e.action){t.next=23;break}return e.ShowBotton=!1,e.isReadonly=!0,t.next=21,R.d(e.id);case 21:r=t.sent,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(j.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.data;case 2:t.formData=n.sent,t.formData.po_active=2,t.formData.user_id=e.$auth.$storage.getLocalStorage("userData-id"),t.selectPartner=1;case 6:case"end":return n.stop()}}),n)}))))}));case 23:e.$nextTick((function(){e.selectBranch=1,e.SelectBranchs(1)})),e.formDataLoading=!1;case 25:e.btnloading=!1;case 26:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},I=U,V=(r(675),r(38)),component=Object(V.a)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(f.a,[r(_.a,{attrs:{"content-class":"v-dialog--custom"},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r(c.a,[r(h.a,{ref:"form",attrs:{autocomplete:"true",readonly:e.isReadonly},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r(O.a,{attrs:{color:"primary",dark:"",flat:""}},[r(o.a,{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[r(x.a,[e._v("mdi-close")])],1),e._v(" "),r($.b,[e._v(" "+e._s(e.formTitle)+" ")]),e._v(" "),r(y.a),e._v(" "),"history"!=this.action?r($.a,[r(o.a,{staticStyle:{"font-size":"18px"},attrs:{type:"submit",loading:e.btnloading,dark:"",text:""}},[e._v("\n              "+e._s("add"==this.action?"บันทึก":"รับเข้าคลัง")+"\n            ")])],1):e._e()],1),e._v(" "),e.formDataLoading?r(w.a,{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r(l.b,[r(v.c,[r(o.a,{directives:[{name:"show",rawName:"v-show",value:e.ShowBotton,expression:"ShowBotton"}],staticStyle:{bottom:"20px"},attrs:{color:"green",fab:"",dark:"",absolute:"",right:""},on:{click:function(t){return e.add_row()}}},[r(x.a,[e._v("mdi-plus")])],1)],1),e._v(" "),r(f.a,[r(k.a,{staticClass:"d-flex justify-center"},[r("h2",[e._v("ใบสั่งซื้ออะไหล่")])]),e._v(" "),r("br"),e._v(" "),r(k.a,[r(d.a,{attrs:{cols:"8"}}),e._v(" "),r(d.a,{attrs:{cols:"4"}},[r(C.a,{attrs:{autocomplete:"true",label:"เลขใบเสร็จ","append-icon":"",id:"formData.po_number",name:"formData.po_number",outlined:"",readonly:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.po_number,callback:function(t){e.$set(e.formData,"po_number",t)},expression:"formData.po_number"}}),e._v(" "),r(y.a,{staticClass:"ma-3"}),e._v(" "),r(D.a,{ref:"menuDateBuy",attrs:{id:"menuDateBuy",name:"menuDateBuy","close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r(C.a,e._g(e._b({attrs:{autocomplete:"true",id:"formData.po_date",name:"formData.po_date",label:"วันที่สั่งซื้อ","persistent-hint":"","prepend-icon":"",outlined:"",dense:"","hide-details":"",flat:"",rules:e.rule,clearable:""},model:{value:e.formData.po_date,callback:function(t){e.$set(e.formData,"po_date",t)},expression:"formData.po_date"}},"v-text-field",o,!1),n))]}}]),model:{value:e.menuDateBuy,callback:function(t){e.menuDateBuy=t},expression:"menuDateBuy"}},[e._v(" "),r(m.a,{attrs:{id:"formData.po_date",name:"formData.po_date",locale:"th-TH","picker-date":""},on:{input:function(t){e.menuDateBuy=!1}},model:{value:e.formData.po_date,callback:function(t){e.$set(e.formData,"po_date",t)},expression:"formData.po_date"}})],1)],1)],1),e._v(" "),r(k.a,{staticClass:"d-flex"},[r(d.a,[r(n.a,{directives:[{name:"show",rawName:"v-show",value:e.ShowBotton,expression:"ShowBotton"}],attrs:{readonly:"",id:"selectBranch",name:"selectBranch",items:e.branch,"item-text":"branch_name","no-data-text":"ไม่มีข้อมูล","item-value":"id",label:"ซื้อในนามสาขา",outlined:"",dense:"","hide-details":"",rules:e.rule},on:{change:e.SelectBranchs},model:{value:e.selectBranch,callback:function(t){e.selectBranch=t},expression:"selectBranch"}})],1),e._v(" "),r(d.a,[r(n.a,{directives:[{name:"show",rawName:"v-show",value:e.ShowBotton,expression:"ShowBotton"}],attrs:{id:"selectPartner",name:"selectPartner",items:e.partner,"item-text":"partner_companie_name","item-value":"id",label:"บริษัทคู่ค้า","no-data-text":"ไม่มีข้อมูล",outlined:"",dense:"","hide-details":"",rules:e.rule},on:{change:e.SelectPartners},model:{value:e.selectPartner,callback:function(t){e.selectPartner=t},expression:"selectPartner"}})],1)],1),e._v(" "),r(k.a,{staticClass:"d-flex"},[r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"ซื้อในนาม",id:"formData.company_name",name:"formData.company_name","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.company_name,callback:function(t){e.$set(e.formData,"company_name",t)},expression:"formData.company_name"}})],1),e._v(" "),r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"ซื้อสินค้าจากบริษัท",id:"formData.partner_companie_name",name:"formData.partner_companie_name","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.partner_companie_name,callback:function(t){e.$set(e.formData,"partner_companie_name",t)},expression:"formData.partner_companie_name"}})],1)],1),e._v(" "),r(k.a,{staticClass:"d-flex"},[r(d.a,[r(k.a,{staticClass:"d-flex"},[r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"เบอร์ติดต่อ",id:"formData.branch_tel",name:"formData.branch_tel","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.branch_tel,callback:function(t){e.$set(e.formData,"branch_tel",t)},expression:"formData.branch_tel"}})],1),e._v(" "),r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"เลขผู้เสียภาษี",id:"formData.company_idvat",name:"formData.company_idvat","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.company_idvat,callback:function(t){e.$set(e.formData,"company_idvat",t)},expression:"formData.company_idvat"}})],1)],1)],1),e._v(" "),r(d.a,[r(k.a,{staticClass:"d-flex"},[r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"เบอร์ติดต่อ",id:"formData.partner_companie_tel",name:"formData.partner_companie_tel","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.partner_companie_tel,callback:function(t){e.$set(e.formData,"partner_companie_tel",t)},expression:"formData.partner_companie_tel"}})],1),e._v(" "),r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"เลขผู้เสียภาษี",id:"formData.partner_companie_idvat",name:"formData.partner_companie_idvat","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.partner_companie_idvat,callback:function(t){e.$set(e.formData,"partner_companie_idvat",t)},expression:"formData.partner_companie_idvat"}})],1)],1)],1)],1),e._v(" "),r(k.a,{staticClass:"d-flex"},[r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"ที่อยู่",id:"formData.company_address",name:"formData.company_address","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.company_address,callback:function(t){e.$set(e.formData,"company_address",t)},expression:"formData.company_address"}})],1),e._v(" "),r(d.a,[r(C.a,{attrs:{autocomplete:"true",label:"ที่อยู่",id:"formData.partner_companie_address",name:"formData.partner_companie_address","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.partner_companie_address,callback:function(t){e.$set(e.formData,"partner_companie_address",t)},expression:"formData.partner_companie_address"}})],1)],1),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r(k.a,{staticClass:"d-flex justify-center"},[r("h2",[e._v("รายการสั่งซื้อ")])]),e._v(" "),r("br"),e._v(" "),e._l(e.formData.purchase_details,(function(t,c){return r(k.a,{key:c,staticClass:"mt-2"},[r(d.a,{attrs:{cols:"2"}},[r(n.a,{attrs:{id:"purchase_detail.type",name:"purchase_detail.type",items:e.type,"item-text":"name","item-value":"id",label:"ประเภท","no-data-text":"ไม่มีข้อมูล",outlined:"",dense:"","hide-details":""},model:{value:t.type,callback:function(r){e.$set(t,"type",r)},expression:"purchase_detail.type"}})],1),e._v(" "),r(d.a,{attrs:{cols:"2"}},[1==e.formData.purchase_details[c].type?r(C.a,{attrs:{autocomplete:"true",label:"ไม่ต้องเลือก",disabled:"","append-icon":"",outlined:"",dense:"","hide-details":""}}):e._e(),e._v(" "),2==e.formData.purchase_details[c].type?r(n.a,{attrs:{id:"purchase_detail.car_id",name:"purchase_detail.car_id",items:e.dataCar,"item-text":"car_no","item-value":"id",label:"ลำดับรถ","no-data-text":"ไม่มีข้อมูล",filter:e.filterObject,outlined:"",dense:"","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(r.car_no)+" ("+e._s(r.car_regis)+")\n                  ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v("\n                    "+e._s(r.car_no)+" ("+e._s(r.car_regis)+")\n                  ")]}}],null,!0),model:{value:t.car_id,callback:function(r){e.$set(t,"car_id",r)},expression:"purchase_detail.car_id"}}):e._e()],1),e._v(" "),r(d.a,{attrs:{cols:"2"}},[r(n.a,{attrs:{id:"purchase_detail.car_part_id",name:"purchase_detail.car_part_id",items:e.carParts,"item-text":"car_part_name","item-value":"id",label:"อะไหล่",outlined:"","no-data-text":"ไม่มีข้อมูล",dense:"","hide-details":"",rules:e.rule},on:{change:function(r){return e.selectCarPart(t.car_part_id,c)}},scopedSlots:e._u([{key:"append-item",fn:function(){return[r("selectAddCarPart",{on:{success:e.addSuccess,error:e.addError}})]},proxy:!0}],null,!0),model:{value:t.car_part_id,callback:function(r){e.$set(t,"car_part_id",r)},expression:"purchase_detail.car_part_id"}})],1),e._v(" "),r(d.a,{attrs:{cols:"1"}},[r(C.a,{attrs:{autocomplete:"true",id:"purchase_detail.car_part_amount",name:"purchase_detail.car_part_amount",readonly:null==t.car_part_id,type:"number",label:"จำนวน","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},on:{change:function(t){return e.fuctionSumValue(c)}},model:{value:t.car_part_amount,callback:function(r){e.$set(t,"car_part_amount",r)},expression:"purchase_detail.car_part_amount"}})],1),e._v(" "),r(d.a,{attrs:{cols:"1"}},[r(C.a,{attrs:{autocomplete:"true",id:"purchase_detail.unit_name",name:"purchase_detail.unit_name",label:"หน่วย",readonly:"","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:t.unit_name,callback:function(r){e.$set(t,"unit_name",r)},expression:"purchase_detail.unit_name"}})],1),e._v(" "),r(d.a,{attrs:{cols:"1"}},[r(C.a,{attrs:{autocomplete:"true",label:"ราคาต่อหน่วย",readonly:null==t.car_part_id,id:"purchase_detail.car_part_price",name:"purchase_detail.car_part_price",type:"number","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},on:{change:function(t){return e.fuctionSumValue(c)}},model:{value:t.car_part_price,callback:function(r){e.$set(t,"car_part_price",r)},expression:"purchase_detail.car_part_price"}})],1),e._v(" "),r(d.a,{attrs:{cols:"2"}},[r(C.a,{attrs:{autocomplete:"true",id:"purchase_detail.sumValue",name:"purchase_detail.sumValue",label:"รวม",readonly:"","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:t.sumValue,callback:function(r){e.$set(t,"sumValue",r)},expression:"purchase_detail.sumValue"}})],1),e._v(" "),r(d.a,{directives:[{name:"show",rawName:"v-show",value:e.ShowBotton,expression:"ShowBotton"}],attrs:{cols:"1"}},[r(o.a,{staticClass:"mt-1",attrs:{color:"red",fab:"","x-small":"",dark:""},on:{click:function(t){return e.rm_row(c)}}},[r(x.a,[e._v(" mdi-delete ")])],1)],1)],1)})),e._v(" "),r(k.a,{staticClass:"d-flex"},[r(d.a,{attrs:{cols:"9"}}),e._v(" "),r(d.a,{attrs:{cols:"2"}},[r(C.a,{attrs:{autocomplete:"true",id:"formData.sumValueAll",name:"formData.sumValueAll",readonly:"",type:"number",label:"รวมราคาทั้งหมด","append-icon":"",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.sumValueAll,callback:function(t){e.$set(e.formData,"sumValueAll",t)},expression:"formData.sumValueAll"}})],1),e._v(" "),r(d.a,{attrs:{cols:"1"}})],1)],2)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);