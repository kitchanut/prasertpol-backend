(window.webpackJsonp=window.webpackJsonp||[]).push([[59,69,98],{454:function(t,n,r){"use strict";r.d(n,"a",(function(){return d})),r.d(n,"b",(function(){return m}));var e=r(14),c=(r(57),r(109)),o=r.n(c),d="https://www.psnkp.co.th/server",f=function(){var t=Object(e.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,$nuxt.$auth.loggedIn;case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(e.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,window.$nuxt.$auth.getToken("local");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function m(t,n,r){return l.apply(this,arguments)}function l(){return(l=Object(e.a)(regeneratorRuntime.mark((function t(n,r,data){var e,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f()){t.next=9;break}return t.next=3,h();case 3:return t.t0=t.sent,e={Authorization:t.t0},t.next=7,o()({method:n,url:r,data:data,headers:e}).then((function(t){return t})).catch((function(t){if(401==t.response.status)return $nuxt.$auth.logout()}));case 7:return c=t.sent,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},501:function(t,n,r){"use strict";r.d(n,"i",(function(){return c})),r.d(n,"h",(function(){return o})),r.d(n,"b",(function(){return d})),r.d(n,"g",(function(){return f})),r.d(n,"d",(function(){return h})),r.d(n,"e",(function(){return m})),r.d(n,"a",(function(){return l})),r.d(n,"f",(function(){return _})),r.d(n,"c",(function(){return v})),r.d(n,"k",(function(){return x})),r.d(n,"j",(function(){return w})),r.d(n,"m",(function(){return O})),r.d(n,"l",(function(){return j}));var e=r(454);function c(t){var n=e.a+"/api/dashboard_manager_doughnut_stock";return Object(e.b)("post",n,t)}function o(t){var n=e.a+"/api/dashboard_manager_bar_car";return Object(e.b)("post",n,t)}function d(t){var n=e.a+"/api/dashboard_manager_bar_visit";return Object(e.b)("post",n,t)}function f(t){var n=e.a+"/api/dashboard_manager_bar_visit_car_type";return Object(e.b)("post",n,t)}function h(t){var n=e.a+"/api/dashboard_manager_bar_visit_car_model";return Object(e.b)("post",n,t)}function m(t){var n=e.a+"/api/dashboard_manager_bar_visit_car_serie";return Object(e.b)("post",n,t)}function l(t){var n=e.a+"/api/dashboard_manager_bar_top_car_serie";return Object(e.b)("post",n,t)}function _(t){var n=e.a+"/api/dashboard_manager_bar_visit_car_slacken";return Object(e.b)("post",n,t)}function v(t){var n=e.a+"/api/dashboard_manager_bar_visit_car_down";return Object(e.b)("post",n,t)}function x(t){var n=e.a+"/api/dashboard_sale_doughnut";return Object(e.b)("post",n,t)}function w(t){var n=e.a+"/api/dashboard_sale_bar";return Object(e.b)("post",n,t)}function O(t){var n=e.a+"/api/dashboard_saleByBranch";return Object(e.b)("post",n,t)}function j(t){var n=e.a+"/api/dashboard_inventory_car";return Object(e.b)("get",n,{})}},539:function(t,n,r){"use strict";r.d(n,"b",(function(){return c})),r.d(n,"a",(function(){return o})),r.d(n,"e",(function(){return d})),r.d(n,"f",(function(){return f})),r.d(n,"d",(function(){return h})),r.d(n,"c",(function(){return select}));var e=r(454),path="/api/branch_teams";function c(){var t=e.a+path;return Object(e.b)("get",t,{})}function o(t){var n=e.a+path+"/"+t;return Object(e.b)("delete",n,{})}function d(t){var n=e.a+path;return Object(e.b)("post",n,t)}function f(t,n){var r=e.a+path+"/"+t;return Object(e.b)("put",r,n)}function h(t){var n=e.a+path+"/"+t;return Object(e.b)("get",n,{})}function select(){var t=e.a+"/api/SelectOnBranchTeams";return Object(e.b)("get",t,{})}},657:function(t,n,r){"use strict";r.r(n);r(17);var e=r(500),c=e.d.reactiveProp,o={extends:e.a,mixins:[c],props:["chartData"],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{bar:{categoryPercentage:.5,barPercentage:1}}],yAxes:[{bar:{categoryPercentage:.5,barPercentage:1},ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{label:function(t,data){var n=data.datasets[t.datasetIndex],r=n.data[t.index];return n.label+" "+Number(r).toLocaleString("th-TH",{maximumFractionDigits:2,minimumFractionDigits:2})+" (คัน)"},title:function(t,data){return data.labels[t[0].index]}}}}}},mounted:function(){this.renderChart(this.chartData,this.options)},watch:{}},d=r(42),component=Object(d.a)(o,undefined,undefined,!1,null,null,null);n.default=component.exports},717:function(t,n,r){"use strict";r.r(n);var e=r(14),c=(r(8),r(57),r(129)),o=r.n(c),d=r(501),f=r(539),h={components:{BarChartSaleCarByBranch:r(657).default},data:function(){return{timeStart:o()().startOf("months").format("YYYY-MM-DD HH:mm"),timeEnd:o()().endOf("months").format("YYYY-MM-DD HH:mm"),data:[],dataChart:null,branchTeams:[],total:null}},mounted:function(){var t=this;return Object(e.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getBranchTeam();case 2:return n.next=4,t.getData();case 4:case"end":return n.stop()}}),n)})))()},methods:{getBranchTeam:function(){var t=this;return Object(e.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.b();case 2:r=n.sent,t.branchTeams=r.data;case 4:case"end":return n.stop()}}),n)})))()},selectTimeStart:function(time){this.timeStart=time.timeStart,this.timeEnd=time.timeEnd,this.getData()},getData:function(){var t=this;return Object(e.a)(regeneratorRuntime.mark((function n(){var data,r,e,label;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(data=new FormData).append("timeStart",t.timeStart),data.append("timeEnd",t.timeEnd),n.next=5,d.m(data);case 5:r=n.sent,t.data=r.data.car_sale,t.total=r.data.sumCar_sale,console.log(t.data),e=[],label=[],t.branchTeams.forEach((function(element){label.push(element.branch_team_name),e.push(t.countField(element.id))})),t.dataChart={labels:label,datasets:[{label:"ยอดปล่อยรถ",backgroundColor:"#3D5B96",data:e}]};case 13:case"end":return n.stop()}}),n)})))()},countField:function(t){return this.data.filter((function(n){return 0==t||n.branch_team_id==t})).reduce((function(t,n){return t+n.count}),0)}}},m=r(42),l=r(52),_=r.n(l),v=r(192),x=r(157),w=r(200),component=Object(m.a)(h,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("h3",[t._v("ยอดปล่อยรถแยกตามสาขา")]),t._v(" "),r("v-card",[r("v-card-text",[r("dateSelectMonth",{on:{timeSelect:t.selectTimeStart}}),t._v(" "),r("br"),t._v(" "),r("div",[r("p",{staticStyle:{"font-size":"16px"}},[t._v("\n          ยอดปล่อยรวม:\n          "),r("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v("\n            "+t._s(t.total)+"\n          ")])],1),t._v(" "),r("BarChartSaleCarByBranch",{staticClass:"mt-5",attrs:{"chart-data":t.dataChart}})],1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;_()(component,{BarChartSaleCarByBranch:r(657).default}),_()(component,{VCard:v.a,VCardText:x.b,VChip:w.a})}}]);