(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{951:function(t,e,r){"use strict";r.r(e);var n=r(14),o=(r(57),r(39),r(494)),c=r(457),d={layout:"mobile",components:{dialogNew:r(499).default},data:function(){return{user_group_permission:this.$auth.$storage.getLocalStorage("userData-user_group_permission"),search:"",loading:!0,id:"",dialog:!1,formTitle:"Add",action:"add",headers:[{text:"ลำดับ",value:"no",align:"center"},{text:"ชื่อลูกค้า",value:"customer_name"},{text:"นามแฝง",value:"customer_nickname"},{text:"อายุ",value:"customer_birthday_year"},{text:"อาชีพ",value:"customer_job"},{text:"เบอร์ติดต่อ",value:"customer_tel"},{text:"จัดการ",value:"actions",sortable:!1,width:"10%"}],data:[]}},mounted:function(){this.getData()},computed:{tHeader:function(){return this.headers.map((function(t){return t.text}))}},methods:{AddItem:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formTitle="เพิ่มข้อมูล",t.dialog=!0,t.id="",t.action="add";case 4:case"end":return e.stop()}}),e)})))()},editItem:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.formTitle="แก้ไขข้อมูล",e.dialog=!0,e.id=t,e.action="edit";case 4:case"end":return r.stop()}}),r)})))()},addSuccess:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dialog=!1,e.next=3,t.$nextTick((function(){t.getData(),c.k()}));case 3:case"end":return e.stop()}}),e)})))()},addError:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dialog=!1,e.next=3,t.$nextTick((function(){t.getData(),c.j()}));case 3:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c();case 2:r=e.sent,t.data=r.data,t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.a(),r.next=3,n.then((function(e){1==e&&o.b(t).then((function(t){200==t.status?c.k():c.j()}))}));case 3:return r.next=5,e.$nextTick((function(){e.getData()}));case 5:case"end":return r.stop()}}),r)})))()}},watch:{data:function(){var t=this;return this.data.map((function(e){e.no=t.data.map((function(t){return t.id})).indexOf(e.id)+1}))}}},l=r(42),m=r(52),f=r.n(m),v=r(210),_=r(192),h=r(157),x=r(445),k=r(914),w=r(146),y=r(451),j=r(86),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return-1==t.user_group_permission||2==t.user_group_permission||3==t.user_group_permission?r("div",[r("v-card",[r("v-card-title",[[r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.AddItem()}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("\n          เพิ่มรายการใหม่\n        ")],1)],t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{id:"search",name:"search","append-icon":"mdi-magnify",label:"ค้นหา","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2),t._v(" "),r("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":10,search:t.search,loading:t.loading,"no-data-text":"ยังไม่มีการเพิ่มข้อมูล","loading-text":"กำลังโหลดข้อมูลกรุณารอสักครู่","mobile-breakpoint":0},scopedSlots:t._u([{key:"item.customer_job",fn:function(e){var n=e.item;return["1"==n.customer_job?r("h5",{staticClass:"brown--text"},[t._v("ข้าราชการ")]):"2"==n.customer_job?r("h5",{staticClass:"blue--text"},[t._v("\n          พนักงานเอกชน\n        ")]):"3"==n.customer_job?r("h5",{staticClass:"green--text"},[t._v("\n          เกษตรกรกร\n        ")]):"4"==n.customer_job?r("h5",{staticClass:"pink--text"},[t._v("\n          ค้าขาย\n        ")]):"5"==n.customer_job?r("h5",{staticClass:"purple--text"},[t._v("\n          อื่น ๆ\n        ")]):r("h5",{staticClass:"red--text"},[t._v("ยังไม่เลือก")])]}},{key:"item.customer_birthday_year",fn:function(e){var n=e.item;return[null==n.customer_birthday_year||""==n.customer_birthday_year?r("h5",{staticClass:"red--text"},[t._v("\n          ยังไม่เลือก\n        ")]):r("div",[t._v("\n          "+t._s((new Date).getFullYear()+543-Number(n.customer_birthday_year))+"\n        ")])]}},{key:"item.actions",fn:function(e){var n=e.item;return[r("v-btn",{attrs:{color:"primary",fab:"","x-small":"",dark:""},on:{click:function(e){return t.editItem(n.id)}}},[r("v-icon",[t._v(" mdi-pencil ")])],1),t._v(" "),r("v-btn",{attrs:{color:"red",fab:"","x-small":"",dark:""},on:{click:function(e){return t.deleteItem(n.id)}}},[r("v-icon",[t._v(" mdi-delete ")])],1)]}}],null,!0)}),t._v(" "),r("dialogNew",{attrs:{dialog:t.dialog,id:t.id,action:t.action,formTitle:t.formTitle},on:{cancleItem:function(e){t.dialog=!1},success:function(e){return t.addSuccess()},error:function(e){return t.addError()}}})],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:v.a,VCard:_.a,VCardTitle:h.c,VCol:x.a,VDataTable:k.a,VIcon:w.a,VSpacer:y.a,VTextField:j.a})}}]);