(window.webpackJsonp=window.webpackJsonp||[]).push([[72,46,115,142],{259:function(t,n,e){"use strict";var r=e(202);n.a=r.a},429:function(t,n,e){"use strict";e.d(n,"a",(function(){return d})),e.d(n,"b",(function(){return f}));var r=e(9),o=(e(48),e(98)),c=e.n(o),d="https://www.psnkp.co.th/server",l=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,$nuxt.$auth.loggedIn;case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,window.$nuxt.$auth.getToken("local");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function f(t,n,e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark((function t(n,e,data){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l()){t.next=9;break}return t.next=3,m();case 3:return t.t0=t.sent,r={Authorization:t.t0},t.next=7,c()({method:n,url:e,data:data,headers:r}).then((function(t){return t})).catch((function(t){if(401==t.response.status)return $nuxt.$auth.logout()}));case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},440:function(t,n,e){var r=e(17);r(r.S,"Object",{is:e(260)})},442:function(t,n,e){var r=e(51),o=e(264),c=e(62);t.exports=function(t,n,e,d){var l=String(c(t)),m=l.length,f=void 0===e?" ":String(e),_=r(n);if(_<=m||""==f)return l;var h=_-m,v=o.call(f,Math.ceil(h/f.length));return v.length>h&&(v=v.slice(0,h)),d?v+l:l+v}},459:function(t,n,e){var r=e(17);r(r.S,"Math",{sign:e(265)})},465:function(t,n,e){"use strict";var r=e(17),o=e(442),c=e(263),d=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);r(r.P+r.F*d,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},483:function(t,n,e){"use strict";e.d(n,"i",(function(){return o})),e.d(n,"h",(function(){return c})),e.d(n,"b",(function(){return d})),e.d(n,"g",(function(){return l})),e.d(n,"d",(function(){return m})),e.d(n,"e",(function(){return f})),e.d(n,"a",(function(){return _})),e.d(n,"f",(function(){return h})),e.d(n,"c",(function(){return v})),e.d(n,"k",(function(){return x})),e.d(n,"j",(function(){return w})),e.d(n,"s",(function(){return y})),e.d(n,"r",(function(){return O})),e.d(n,"m",(function(){return j})),e.d(n,"l",(function(){return k})),e.d(n,"n",(function(){return C})),e.d(n,"q",(function(){return D})),e.d(n,"p",(function(){return Y})),e.d(n,"o",(function(){return R})),e.d(n,"x",(function(){return S})),e.d(n,"w",(function(){return F})),e.d(n,"t",(function(){return $})),e.d(n,"u",(function(){return B})),e.d(n,"v",(function(){return A}));var r=e(429);function o(t){var n=r.a+"/api/dashboard_manager_doughnut_stock";return Object(r.b)("post",n,t)}function c(t){var n=r.a+"/api/dashboard_manager_bar_car";return Object(r.b)("post",n,t)}function d(t){var n=r.a+"/api/dashboard_manager_bar_visit";return Object(r.b)("post",n,t)}function l(t){var n=r.a+"/api/dashboard_manager_bar_visit_car_type";return Object(r.b)("post",n,t)}function m(t){var n=r.a+"/api/dashboard_manager_bar_visit_car_model";return Object(r.b)("post",n,t)}function f(t){var n=r.a+"/api/dashboard_manager_bar_visit_car_serie";return Object(r.b)("post",n,t)}function _(t){var n=r.a+"/api/dashboard_manager_bar_top_car_serie";return Object(r.b)("post",n,t)}function h(t){var n=r.a+"/api/dashboard_manager_bar_visit_car_slacken";return Object(r.b)("post",n,t)}function v(t){var n=r.a+"/api/dashboard_manager_bar_visit_car_down";return Object(r.b)("post",n,t)}function x(t){var n=r.a+"/api/dashboard_sale_doughnut";return Object(r.b)("post",n,t)}function w(t){var n=r.a+"/api/dashboard_sale_bar";return Object(r.b)("post",n,t)}function y(t){var n=r.a+"/api/dashboard_saleByBranch";return Object(r.b)("post",n,t)}function O(t){var n=r.a+"/api/dashboard_inventory_car";return Object(r.b)("get",n,{})}function j(t){var n=r.a+"/api/dashboard_car_registration";return Object(r.b)("get",n,{})}function k(t){var n=r.a+"/api/dashboard_car_insurances";return Object(r.b)("get",n,{})}function C(t){var n=r.a+"/api/dashboard_chanel";return Object(r.b)("post",n,t)}function D(t){var n=r.a+"/api/dashboard_files?path="+t.path;return Object(r.b)("get",n,{})}function Y(t){var n=r.a+"/api/dashboard_file_main?path="+t.path;return Object(r.b)("get",n,{})}function R(t){var n=r.a+"/api/dashboard_delete_files?path="+t.path+"&month="+t.month;return Object(r.b)("get",n,{})}function S(t){var n=r.a+"/api/dashboard_top_saler";return Object(r.b)("post",n,t)}function F(t){var n=r.a+"/api/dashboard_top_profit";return Object(r.b)("post",n,t)}function $(t){var n=r.a+"/api/dashboard_sale_compare_commission_mount";return Object(r.b)("post",n,t)}function B(t){var n=r.a+"/api/dashboard_sale_compare_commission_mount_previos_year";return Object(r.b)("post",n,t)}function A(t){var n=r.a+"/api/dashboard_sale_compare_quarters";return Object(r.b)("post",n,t)}},692:function(t,n,e){"use strict";e.r(n);var r=e(485),o=r.e.reactiveProp,c={extends:r.a,mixins:[o],props:["chartData"],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{bar:{categoryPercentage:.5,barPercentage:1}}],yAxes:[{bar:{categoryPercentage:.5,barPercentage:1},ticks:{beginAtZero:!0}}]}}}},mounted:function(){this.renderChart(this.chartData,this.options,{type:"horizontalBar"})},watch:{}},d=e(38),component=Object(d.a)(c,undefined,undefined,!1,null,null,null);n.default=component.exports},838:function(t,n,e){"use strict";e.r(n);var r=e(190),o=e(149),c=e(424),d=e(633),l=e(613),m=e(412),f=e(423),_=e(453),h=e(422),v=e(435),x=e(9),w=(e(48),e(49),e(5),e(151),e(483)),y={components:{BarChart:e(692).default},data:function(){return{menu:!1,commission_mount:(new Date).toISOString().substr(0,7),menuYear:!1,commission_mount_year:(new Date).toISOString().substr(0,7),year:(new Date).getFullYear(),years:[(new Date).getFullYear(),(new Date).getFullYear()-1,(new Date).getFullYear()-2],dataChart:null,dataChartYear:null,dataChartQuarters:null}},mounted:function(){this.getData(),this.getLastYear(),this.getQuarters()},methods:{getData:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var data,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(data=new FormData).append("commission_mount",t.commission_mount),n.next=4,w.t(data);case 4:e=n.sent,t.dataChart={labels:e.data.map((function(t){return t.branch_team_name})),datasets:[{label:"ยอดปล่อยเดือนก่อน",backgroundColor:"#f87979",data:e.data.map((function(t){return t.total_previos}))},{label:"ยอดปล่อย",backgroundColor:"#1876D1",data:e.data.map((function(t){return t.total}))}]};case 6:case"end":return n.stop()}}),n)})))()},getLastYear:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var data,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(data=new FormData).append("commission_mount",t.commission_mount_year),n.next=4,w.u(data);case 4:e=n.sent,t.dataChartYear={labels:e.data.map((function(t){return t.branch_team_name})),datasets:[{label:"ยอดปล่อยปีก่อน",backgroundColor:"#f87979",data:e.data.map((function(t){return t.total_previos}))},{label:"ยอดปล่อย",backgroundColor:"#1876D1",data:e.data.map((function(t){return t.total}))}]};case 6:case"end":return n.stop()}}),n)})))()},getQuarters:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var data,e,r,o,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(data=new FormData).append("year",t.year),n.next=4,w.v(data);case 4:e=n.sent,r=Object.keys(e.data),o=Object.values(e.data),c=["#f87979","#1876D1","#4CAF4F","#FB8C00"],d=[],r.forEach((function(element,t){d.push({label:element,backgroundColor:c[t],data:Object.values(o[t]).map((function(t){return t.total}))})})),t.dataChartQuarters={labels:Object.values(o[0]).map((function(t){return t.branch_team_name})),datasets:d};case 11:case"end":return n.stop()}}),n)})))()}}},O=e(38),component=Object(O.a)(y,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pa-3"},[e(f.a,[e(c.a,[e(r.a,{attrs:{outlined:""}},[e(o.b,[e("div",{staticClass:"d-flex align-center"},[e("h3",[t._v("ยอดปล่อยเทียบกับเดือนก่อนหน้า (เดือนคอม)")]),t._v(" "),e(h.a),t._v(" "),e(c.a,{staticClass:"pa-0",attrs:{cols:"3"}},[e(m.a,{ref:"menu",attrs:{"close-on-content-click":!0,"return-value":t.commission_mount,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(n){t.commission_mount=n},"update:return-value":function(n){t.commission_mount=n}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-0",attrs:{"append-icon":"mdi-calendar",readonly:"","hide-details":"",outlined:"",dense:""},model:{value:t.commission_mount,callback:function(n){t.commission_mount=n},expression:"commission_mount"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(n){t.menu=n},expression:"menu"}},[t._v(" "),e(d.a,{attrs:{type:"month",locale:"th","no-title":"",scrollable:""},on:{change:function(n){t.$refs.menu.save(t.commission_mount),t.getData()}},model:{value:t.commission_mount,callback:function(n){t.commission_mount=n},expression:"commission_mount"}})],1)],1)],1)]),t._v(" "),e(l.a),t._v(" "),e(o.b,[e("BarChart",{attrs:{"chart-data":t.dataChart}})],1)],1)],1),t._v(" "),e(c.a,[e(r.a,{attrs:{outlined:""}},[e(o.b,[e("div",{staticClass:"d-flex align-center"},[e("h3",[t._v("ยอดปล่อยเทียบกับปีก่อน (เดือนคอม)")]),t._v(" "),e(h.a),t._v(" "),e(c.a,{staticClass:"pa-0",attrs:{cols:"3"}},[e(m.a,{ref:"menuYear",attrs:{"close-on-content-click":!0,"return-value":t.commission_mount_year},on:{"update:returnValue":function(n){t.commission_mount_year=n},"update:return-value":function(n){t.commission_mount_year=n}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-0",attrs:{"append-icon":"mdi-calendar",readonly:"","hide-details":"",outlined:"",dense:""},model:{value:t.commission_mount_year,callback:function(n){t.commission_mount_year=n},expression:"commission_mount_year"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menuYear,callback:function(n){t.menuYear=n},expression:"menuYear"}},[t._v(" "),e(d.a,{attrs:{type:"month",locale:"th","no-title":"",scrollable:""},on:{change:function(n){t.$refs.menuYear.save(t.commission_mount_year),t.getLastYear()}},model:{value:t.commission_mount_year,callback:function(n){t.commission_mount_year=n},expression:"commission_mount_year"}})],1)],1)],1)]),t._v(" "),e(l.a),t._v(" "),e(o.b,[e("BarChart",{attrs:{"chart-data":t.dataChartYear}})],1)],1)],1)],1),t._v(" "),e(r.a,{staticClass:"mt-3",attrs:{outlined:""}},[e(o.b,[e("div",{staticClass:"d-flex align-center"},[e("h3",[t._v("ยอดปล่อยรายไตรมาส")]),t._v(" "),e(h.a),t._v(" "),e(c.a,{staticClass:"pa-0",attrs:{cols:"2"}},[e(_.a,{attrs:{items:t.years,outlined:"",dense:"","hide-details":""},on:{change:function(n){return t.getQuarters()}},model:{value:t.year,callback:function(n){t.year=n},expression:"year"}})],1)],1)]),t._v(" "),e(l.a),t._v(" "),e(o.b,[e("BarChart",{attrs:{"chart-data":t.dataChartQuarters}})],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;installComponents(component,{BarChart:e(692).default})}}]);