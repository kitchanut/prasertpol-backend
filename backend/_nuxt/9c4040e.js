(window.webpackJsonp=window.webpackJsonp||[]).push([[195,140],{429:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return d}));var r=n(9),l=(n(48),n(98)),o=n.n(l),_="https://www.psnkp.co.th/server",c=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,$nuxt.$auth.loggedIn;case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$nuxt){t.next=4;break}return t.next=3,window.$nuxt.$auth.getToken("local");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function d(t,e,n){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(e,n,data){var r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c()){t.next=9;break}return t.next=3,m();case 3:return t.t0=t.sent,r={Authorization:t.t0},t.next=7,o()({method:e,url:n,data:data,headers:r}).then((function(t){return t})).catch((function(t){if(401==t.response.status)return $nuxt.$auth.logout()}));case 7:return l=t.sent,t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},440:function(t,e,n){var r=n(17);r(r.S,"Object",{is:n(260)})},701:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return c}));var r=n(429),path="/api/installments";function l(t){var e=r.a+path;return Object(r.b)("post",e,t)}function o(t,e){var n=r.a+path+"/"+t;return Object(r.b)("put",n,e)}function _(t){var e=r.a+path+"/getByWorkingID/"+t;return Object(r.b)("get",e,{})}function c(t,e,n){var l=r.a+path+"/getByUser/"+t+"/"+e+"/"+n;return Object(r.b)("get",l,{})}},989:function(t,e,n){"use strict";n.r(e);var r=n(190),l=n(149),o=n(424),_=n(982),c=n(613),m=n(423),d=n(422),v=n(435),f=n(9),h=(n(48),n(701)),w={data:function(){return{loading:!1,user_group_permission:this.$auth.$storage.getLocalStorage("userData-user_group_permission"),branch_id:this.$auth.$storage.getLocalStorage("userData-branch_id"),user_id:this.$auth.$storage.getLocalStorage("userData-id"),search:"",headers:[{text:"ลำดับงาน",value:"working_id"},{text:"ลำดับรถ",value:"working.cars.car_no"},{text:"ลูกค้า",value:"working.customer_name"},{text:"เซล",value:"working.sale.first_name"},{text:"สาขาย่อย",value:"working.branch.branch_name"},{text:"งวดที่ 1",value:"installment_date_1"},{text:"งวดที่ 2",value:"installment_date_2"},{text:"งวดที่ 3",value:"installment_date_3"},{text:"งวดที่ 4",value:"installment_date_4"},{text:"งวดที่ 5",value:"installment_date_5"},{text:"งวดที่ 6",value:"installment_date_6"},{text:"จัดการ",value:"actions",width:"5%"}],data:[]}},mounted:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,h.a(t.user_group_permission,t.user_id,t.branch_id);case 3:n=e.sent,t.data=n.data,console.log(n.data),t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()}}},x=n(38),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(r.a,[n(l.b,[n(m.a,{staticClass:"d-flex"},[n(o.a,{staticClass:"d-flex align-center",attrs:{xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}}),t._v(" "),n(d.a),t._v(" "),n(o.a,{staticClass:"d-flex align-center",attrs:{xs:"12",sm:"12",md:"6",lg:"4",xl:"4"}},[n(v.a,{attrs:{id:"search",name:"search","append-icon":"mdi-magnify",label:"ค้นหา","single-line":"","hide-details":"",outlined:"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),t._v(" "),n(c.a),t._v(" "),n(_.a,{attrs:{headers:t.headers,items:t.data,search:t.search,loading:t.loading,dense:""},scopedSlots:t._u([{key:"item.working_id",fn:function(e){var n=e.item;return[t._v(" W"+t._s(n.working_id)+" ")]}},{key:"item.installment_date_1",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_1).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_1)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_1<r.installment_value_1?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_1)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_1))])]}},{key:"item.installment_date_2",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_2).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_2)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_2<r.installment_value_2?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_2)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_2))])]}},{key:"item.installment_date_3",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_3).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_3)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_3<r.installment_value_3?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_3)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_3))])]}},{key:"item.installment_date_4",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_4).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_4)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_4<r.installment_value_4?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_4)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_4))])]}},{key:"item.installment_date_5",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_5).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_5)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_5<r.installment_value_5?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_5)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_5))])]}},{key:"item.installment_date_6",fn:function(e){var r=e.item;return[n("div",{style:t.$moment(r.installment_date_6).isSame(new Date,"month")?"color: blue":""},[t._v("\n        "+t._s(r.installment_date_6)+"\n      ")]),t._v(" "),n("span",{style:r.installment_pay_6<r.installment_value_6?"color: red":"color: green"},[t._v("\n        "+t._s(r.installment_pay_6)+"\n      ")]),t._v("\n      / "),n("span",[t._v(t._s(r.installment_value_6))])]}},{key:"item.actions",fn:function(t){var e=t.item;return[n("dialogInstallment",{attrs:{appearance:"pencil",working_id:e.working_id,car_no:e.working.cars.car_no}})]}}],null,!0)})],1)}),[],!1,null,null,null);e.default=component.exports}}]);