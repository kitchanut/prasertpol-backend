(window.webpackJsonp=window.webpackJsonp||[]).push([[11,97],{481:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"c",(function(){return select}));var n=r(459),path="/api/car_model";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("post",r,t)}function m(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function select(){var e=n.a+"/api/SelectOnCarModel";return Object(n.b)("get",e,{})}},499:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"a",(function(){return f}));var n=r(459),path="/api/customer";function o(){var e=n.a+path;return Object(n.b)("get",e,{})}function c(e){var t=n.a+path+"/"+e;return Object(n.b)("delete",t,{})}function l(e){var t=n.a+path;return Object(n.b)("post",t,e)}function d(e,t){var r=n.a+path+"/"+e;return Object(n.b)("put",r,t)}function m(e){var t=n.a+path+"/"+e;return Object(n.b)("get",t,{})}function f(e){var t=n.a+"/api/SelectCustomer/"+e;return Object(n.b)("post",t,{})}},500:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(56),r(462)),c={components:{dialogNew:r(507).default},data:function(){return{formTitle:"เพิ่มข้อมูล",dialog:!1,id:"",action:"add"}},methods:{AddItem:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formTitle="เพิ่มข้อมูล",e.dialog=!0,e.id="",e.action="add";case 4:case"end":return t.stop()}}),t)})))()},addSuccess:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("success","AddCarModel"),o.k()}));case 3:case"end":return t.stop()}}),t)})))()},addError:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,t.next=3,e.$nextTick((function(){e.$emit("error","AddCarModel"),o.j()}));case 3:case"end":return t.stop()}}),t)})))()}}},l=r(42),d=r(51),m=r.n(d),f=r(123),v=r(32),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-list-item",{on:{click:function(t){return e.AddItem()}}},[r("v-list-item-content",[r("v-list-item-title",{staticStyle:{color:"#1976d2"}},[e._v("\n        + เพิ่มข้อมูลใหม่\n      ")])],1)],1),e._v(" "),r("dialogNew",{attrs:{dialog:e.dialog,id:e.id,action:e.action,formTitle:e.formTitle},on:{cancleItem:function(t){e.dialog=!1},success:function(t){return e.addSuccess()},error:function(t){return e.addError()}}})],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VListItem:f.a,VListItemContent:v.a,VListItemTitle:v.c})},506:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(56),r(499)),c=r(481),l=r(484),d=r(500),m=r(502),f={components:{selectAddCarModel:d.default,selectAddCarType:m.default},props:["dialog","action","id","formTitle"],data:function(){return{btnloading:!0,formDataLoading:!1,formTitleModel:"เพิ่มข้อมูล",formData:{},rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}],cartypes:[],carmodels:[],dialogDeleteComponent:!1}},mounted:function(){},methods:{getCartypes:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c();case 2:r=t.sent,e.cartypes=r.data,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},getCarmodels:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c();case 2:r=t.sent,e.carmodels=r.data,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},addSuccess:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarType"!=e){r.next=5;break}return r.next=3,t.getCartypes();case 3:r.next=8;break;case 5:if("AddCarModel"!=e){r.next=8;break}return r.next=8,t.getCarmodels();case 8:case"end":return r.stop()}}),r)})))()},addError:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("AddCarType"!=e){r.next=5;break}return r.next=3,t.getCartypes();case 3:r.next=8;break;case 5:if("AddCarModel"!=e){r.next=8;break}return r.next=8,t.getCarmodels();case 8:case"end":return r.stop()}}),r)})))()},onAction:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=21;break}if(t.btnloading=!0,t.formDataLoading=!0,"add"!=t.action){e.next=13;break}return e.next=6,o.e(t.formData);case 6:r=e.sent,t.$refs.form.reset(),200==r.status?t.$emit("success","AddCustomer"):t.$emit("error","AddCustomer"),t.btnloading=!1,t.formDataLoading=!1,e.next=21;break;case 13:if("edit"!=t.action){e.next=21;break}return e.next=16,o.f(t.id,t.formData);case 16:n=e.sent,t.$refs.form.reset(),200==n.status?t.$emit("success","AddCustomer"):t.$emit("error","AddCustomer"),t.btnloading=!1,t.formDataLoading=!1;case 21:case"end":return e.stop()}}),e)})))()}},watch:{dialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.dialog){t.next=17;break}if(e.getCartypes(),e.getCarmodels(),"add"!=e.action){t.next=8;break}e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formData={customer_job:"1"};case 1:case"end":return e.stop()}}),e)}))))})),t.next=15;break;case 8:if("edit"!=e.action){t.next=15;break}return e.formDataLoading=!0,t.next=12,o.d(e.id);case 12:r=t.sent,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.data;case 2:t.formData=e.sent;case 3:case"end":return e.stop()}}),e)}))))})),e.formDataLoading=!1;case 15:t.next=18;break;case 17:e.$emit("cancleItem");case 18:e.btnloading=!1;case 19:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},v=r(42),_=r(51),x=r.n(_),D=r(210),k=r(191),h=r(158),w=r(451),C=r(458),$=r(452),R=r(482),j=r(192),V=r(493),y=r(494),O=r(455),T=r(456),L=r(84),A=r(50),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-dialog",{attrs:{width:"550px",fullscreen:"xs"==e.$vuetify.breakpoint.name||"sm"==e.$vuetify.breakpoint.name},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r("v-card",[r("v-form",{ref:"form",attrs:{autocomplete:"true"},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e._v("\n          "+e._s(e.formTitle)+"\n        ")]),e._v(" "),e.formDataLoading?r("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"ชื่อลูกค้า","append-icon":"",id:"formData.customer_name",name:"formData.customer_name",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.customer_name,callback:function(t){e.$set(e.formData,"customer_name",t)},expression:"formData.customer_name"}})],1)],1),e._v(" "),r("v-row",[r("v-col",{staticClass:"pt-0",attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"ชื่อเล่น","append-icon":"",id:"formData.customer_nickname",name:"formData.customer_nickname",outlined:"",dense:"","hide-details":""},model:{value:e.formData.customer_nickname,callback:function(t){e.$set(e.formData,"customer_nickname",t)},expression:"formData.customer_nickname"}})],1),e._v(" "),r("v-col",{staticClass:"pt-0",attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"ปีเกิด (พ.ศ.)","append-icon":"",id:"formData.customer_birthday_year",name:"formData.customer_birthday_year",onkeypress:"return  (event.charCode >= 48 && event.charCode <= 57)",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.customer_birthday_year,callback:function(t){e.$set(e.formData,"customer_birthday_year",t)},expression:"formData.customer_birthday_year"}})],1),e._v(" "),r("v-col",{staticClass:"pt-0",attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"เบอร์ติดต่อ","append-icon":"",id:"formData.customer_tel",name:"formData.customer_tel",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.customer_tel,callback:function(t){e.$set(e.formData,"customer_tel",t)},expression:"formData.customer_tel"}})],1)],1),e._v(" "),r("v-row",{staticClass:"d-flex flex-row rounded ma-auto mt-3 mb-3",staticStyle:{"border-style":"solid","border-width":"1px","border-color":"gray"}},[r("v-col",{attrs:{cols:"12"}},[r("v-radio-group",{attrs:{id:"formData.customer_job",name:"formData.customer_job",rules:[function(e){return!!e}],"hide-details":""},model:{value:e.formData.customer_job,callback:function(t){e.$set(e.formData,"customer_job",t)},expression:"formData.customer_job"}},[[r("div",[e._v("อาชีพ:")])],e._v(" "),r("v-radio",{attrs:{value:"1",label:"ข้าราชการ"}}),e._v(" "),r("v-radio",{attrs:{value:"2",label:"พนักงานเอกชน"}}),e._v(" "),r("v-radio",{attrs:{value:"3",label:"เกษตร"}}),e._v(" "),r("v-radio",{attrs:{value:"4",label:"ค้าขาย"}}),e._v(" "),r("v-radio",{attrs:{value:"5",label:"อื่น ๆ "}})],2)],1)],1),e._v(" "),r("v-row",[5==e.formData.customer_job?r("v-col",[r("v-text-field",{attrs:{autocomplete:"true",label:"อาชีพ",id:"formData.customer_job_list",name:"formData.customer_job_list","append-icon":"",outlined:"",dense:"","hide-details":""},model:{value:e.formData.customer_job_list,callback:function(t){e.$set(e.formData,"customer_job_list",t)},expression:"formData.customer_job_list"}})],1):e._e()],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[e._v("ยกเลิก")]),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"success darken-1",text:"",loading:e.btnloading}},[e._v("บันทึก\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{VBtn:D.a,VCard:k.a,VCardActions:h.a,VCardText:h.b,VCol:w.a,VContainer:C.a,VDialog:$.a,VForm:R.a,VProgressLinear:j.a,VRadio:V.a,VRadioGroup:y.a,VRow:O.a,VSpacer:T.a,VTextField:L.a,VToolbar:A.a})},507:function(e,t,r){"use strict";r.r(t);var n=r(14),o=(r(56),r(481)),c={props:["dialog","action","id","formTitle"],data:function(){return{serverUrl:"https://www.psnkp.co.th/server/assets/images/car_models/",btnloading:!0,formDataLoading:!1,formData:{},dialogDeleteComponent:!1,rule:[function(e){return!!e||"กรุณาใส่ข้อมูล"}],currentFile:null,imagePreviewURL:null}},mounted:function(){},methods:{selectFile:function(e){this.currentFile=e;var t=e;t?(this.imagePreviewURL=URL.createObjectURL(t),URL.revokeObjectURL(t)):this.imagePreviewURL=null},onAction:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data,n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.$refs.form.validate()){r.next=24;break}if(t.btnloading=!0,(data=new FormData).append("formData",JSON.stringify(t.formData)),data.append("Image",t.currentFile),"add"!=t.action){r.next=15;break}return r.next=8,o.e(data);case 8:n=r.sent,t.$refs.form.reset(),200==n.status?t.$emit("success"):t.$emit("error"),t.btnloading=!1,t.formDataLoading=!1,r.next=24;break;case 15:if("edit"!=t.action){r.next=24;break}return data.append("_method","PATCH"),r.next=19,o.f(e,data);case 19:c=r.sent,t.$refs.form.reset(),200==c.status?t.$emit("success"):t.$emit("error"),t.btnloading=!1,t.formDataLoading=!1;case 24:case"end":return r.stop()}}),r)})))()}},watch:{dialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialogDeleteComponent=e.dialog,!e.$props.dialog){t.next=13;break}if("add"!=e.action){t.next=6;break}e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formData={car_model_active:"1"};case 1:case"end":return e.stop()}}),e)}))))})),t.next=13;break;case 6:if("edit"!=e.action){t.next=13;break}return e.formDataLoading=!0,t.next=10,o.d(e.id);case 10:r=t.sent,e.$nextTick((function(){e.$refs.form.reset();var t=e;e.$nextTick(Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.data;case 2:t.formData=n.sent,null!=r.data.car_model_image&&(e.imagePreviewURL=e.serverUrl+r.data.id+"/"+r.data.car_model_image);case 4:case"end":return n.stop()}}),n)}))))})),e.formDataLoading=!1;case 13:e.btnloading=!1;case 14:case"end":return t.stop()}}),t)})))()},dialogDeleteComponent:function(){this.dialogDeleteComponent||this.$emit("cancleItem")}}},l=r(42),d=r(51),m=r.n(d),f=r(210),v=r(191),_=r(158),x=r(451),D=r(458),k=r(452),h=r(580),w=r(482),C=r(156),$=r(192),R=r(493),j=r(494),V=r(455),y=r(456),O=r(84),T=r(50),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-dialog",{attrs:{"max-width":"50%"},model:{value:e.dialogDeleteComponent,callback:function(t){e.dialogDeleteComponent=t},expression:"dialogDeleteComponent"}},[r("v-card",[r("v-form",{ref:"form",attrs:{autocomplete:"true"},on:{submit:function(t){return t.preventDefault(),e.onAction(e.formData.id)}}},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e._v("\n          "+e._s(e.formTitle)+"\n        ")]),e._v(" "),e.formDataLoading?r("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}}):e._e(),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"รหัสสี","append-icon":"",id:"formData.car_model_code_color",name:"formData.car_model_code_color",outlined:"",dense:"","hide-details":""},model:{value:e.formData.car_model_code_color,callback:function(t){e.$set(e.formData,"car_model_code_color",t)},expression:"formData.car_model_code_color"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{autocomplete:"true",label:"ยี่ห้อ","append-icon":"",id:"formData.car_model_name",name:"formData.car_model_name",outlined:"",dense:"","hide-details":"",rules:e.rule},model:{value:e.formData.car_model_name,callback:function(t){e.$set(e.formData,"car_model_name",t)},expression:"formData.car_model_name"}})],1)],1),e._v(" "),r("v-radio-group",{attrs:{id:"formData.car_model_active",name:"formData.car_model_active",rules:e.rule,row:""},model:{value:e.formData.car_model_active,callback:function(t){e.$set(e.formData,"car_model_active",t)},expression:"formData.car_model_active"}},[[r("div",{staticClass:"mr-1"},[e._v("แสดงตอนเลือก:")])],e._v(" "),r("v-radio",{attrs:{label:"เปิดใช้งาน",value:"1"}}),e._v(" "),r("v-radio",{attrs:{label:"ปิดการใช้งาน",color:"red",value:"2"}})],2),e._v(" "),r("div",{staticClass:"d-flex flex-column justify-center"},[r("v-file-input",{attrs:{accept:"image/*","show-size":"",label:null==e.currentFile||null==e.imagePreviewURL?"เลือกรูปภาพ":"เลือกรูปใหม่"},on:{change:e.selectFile}}),e._v(" "),null!=e.currentFile||null!=e.imagePreviewURL?r("v-img",{attrs:{contain:"",height:"250px",src:e.imagePreviewURL}}):e._e()],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.$emit("cancleItem")}}},[e._v("ยกเลิก")]),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"success darken-1",text:"",loading:e.btnloading}},[e._v("บันทึก\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:f.a,VCard:v.a,VCardActions:_.a,VCardText:_.b,VCol:x.a,VContainer:D.a,VDialog:k.a,VFileInput:h.a,VForm:w.a,VImg:C.a,VProgressLinear:$.a,VRadio:R.a,VRadioGroup:j.a,VRow:V.a,VSpacer:y.a,VTextField:O.a,VToolbar:T.a})}}]);